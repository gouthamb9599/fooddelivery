{"ast":null,"code":"var _jsxFileName = \"/home/system2/testing-engine/testing-engine-fe/src/components/login/logindiv.jsx\";\nimport React from 'react';\nimport './logindiv.css';\nimport axios from 'axios';\nimport history from '../../history';\nimport swal from 'sweetalert';\n\nclass LoginDiv extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.check = e => {\n      if (this.state.email !== \"admin\") {\n        if (this.props.role === \"teacher\") {\n          axios.post('http://localhost:5000/teacher/login', {\n            email: this.state.email,\n            password: this.state.password\n          }).then(res => {\n            console.log(res); // const users = res.data;\n\n            if (res.data.success === true) {\n              console.log('details verified');\n\n              if (res.data.access === true) {\n                localStorage.setItem('user', JSON.stringify({\n                  token: res.data.token\n                }));\n                this.props.history.push({\n                  pathname: '/home'\n                });\n              } else {\n                swal(\"you have registered successfully\", \"Wait until your access is approved\", \"info\");\n              }\n            } else {\n              swal(\"invalid credentials\", \"retry again\", \"warning\");\n            }\n          });\n        }\n      } else if (this.props.role === \"student\") {\n        axios.post('http://localhost:5000/student/login', {\n          email: this.state.email,\n          password: this.state.password\n        }).then(res => {\n          console.log(res); // const users = res.data;\n\n          if (res.data.success === true) {\n            console.log('details verified');\n\n            if (res.data.access === true) {\n              localStorage.setItem('user', JSON.stringify({\n                token: res.data.token\n              }));\n              this.props.history.push({\n                pathname: '/home'\n              });\n            } else {\n              swal(\"you have registered successfully\", \"Wait until your access is approved\", \"info\");\n            } // this.props.history.push({ pathname: '/' });\n\n          } else {\n            swal(\"invalid credentials\", \"retry again\", \"warning\");\n          }\n        });\n      } else {\n        if (this.state.email === \"admin\" && this.state.password === \"admin\") {\n          console.log(\"admin\"); // localStorage.setItem('admin', id);\n          // this.props.history.push({ pathname: '/admin', state: { admin: true } });\n        } else {\n          swal(\"invalid credentials\", \"retry again\", \"warning\");\n        }\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signpage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-75\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-alignment\",\n      name: \"email\",\n      placeholder: \"Email\",\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 150\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-75\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-alignment\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 159\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"send\",\n      className: \"buttonstyle\",\n      onClick: e => this.check(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"para\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, \"New user?\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"buttonstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"line\",\n      href: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 57\n      }\n    }, \"Signup\")))));\n  }\n\n}\n\nexport default LoginDiv;","map":{"version":3,"sources":["/home/system2/testing-engine/testing-engine-fe/src/components/login/logindiv.jsx"],"names":["React","axios","history","swal","LoginDiv","Component","check","e","state","email","props","role","post","password","then","res","console","log","data","success","access","localStorage","setItem","JSON","stringify","token","push","pathname","handleChange","setState","target","name","value","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './logindiv.css';\nimport axios from 'axios'\nimport history from '../../history';\nimport swal from 'sweetalert';\nclass LoginDiv extends React.Component {\n\n    check = (e) => {\n        if (this.state.email !== \"admin\") {\n            if (this.props.role === \"teacher\") {\n                axios.post('http://localhost:5000/teacher/login', { email: this.state.email, password: this.state.password })\n                    .then(res => {\n                        console.log(res);\n                        // const users = res.data;\n                        if (res.data.success === true) {\n                            console.log('details verified')\n                            if (res.data.access === true) {\n                                localStorage.setItem('user', JSON.stringify({ token: res.data.token, }));\n                                this.props.history.push({ pathname: '/home' });\n                            }\n                            else {\n                                swal(\"you have registered successfully\", \"Wait until your access is approved\", \"info\")\n                            }\n                        }\n                        else {\n                            swal(\"invalid credentials\", \"retry again\", \"warning\");\n                        }\n                    })\n            }\n\n        }\n        else if (this.props.role === \"student\") {\n            axios.post('http://localhost:5000/student/login', { email: this.state.email, password: this.state.password })\n                .then(res => {\n                    console.log(res);\n                    // const users = res.data;\n                    if (res.data.success === true) {\n                        console.log('details verified')\n                        if (res.data.access === true) {\n                            localStorage.setItem('user', JSON.stringify({ token: res.data.token }));\n                            this.props.history.push({ pathname: '/home' });\n\n                        }\n                        else {\n                            swal(\"you have registered successfully\", \"Wait until your access is approved\", \"info\")\n                        }\n                        // this.props.history.push({ pathname: '/' });\n                    }\n                    else {\n                        swal(\"invalid credentials\", \"retry again\", \"warning\");\n                    }\n                })\n        }\n        else {\n            if (this.state.email === \"admin\" && this.state.password === \"admin\") {\n                console.log(\"admin\")\n                // localStorage.setItem('admin', id);\n                // this.props.history.push({ pathname: '/admin', state: { admin: true } });\n\n            }\n            else {\n                swal(\"invalid credentials\", \"retry again\", \"warning\");\n            }\n\n        }\n\n    }\n    handleChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        return (\n            <div className=\"signpage\">\n                <div className=\"container\">\n                    {/* {(this.props.value === 0) ? <h2 className=\"heading\">Student LOGIN</h2> : <h2 className=\"heading\">Teacher LOGIN</h2>} */}\n                    <div id=\"login\">\n                        {/* <div className=\"col-25\">\n                        <label htmlFor=\"fname\">Email</label>\n                    </div> */}\n                        <div className=\"col-75\">\n                            <input type=\"email\" className=\"form-alignment\" name=\"email\" placeholder=\"Email\" onChange={(e) => this.handleChange(e)} /><br /></div>\n                        {/* <div className=\"col-25\">\n                        <label htmlFor=\"fname\">Password</label>\n                    </div> */}\n\n                        <div className=\"col-75\">\n                            <input type=\"password\" className=\"form-alignment\" name=\"password\" placeholder=\"Password\" onChange={(e) => this.handleChange(e)} /><br />\n                        </div>\n\n                        <button id=\"send\" className=\"buttonstyle\" onClick={e => this.check(e)}>Login</button>\n                        <p className=\"para\">New user?</p>\n                        <button className=\"buttonstyle\"><a className=\"line\" href=\"/signup\">Signup</a></button>\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}\nexport default LoginDiv;"]},"metadata":{},"sourceType":"module"}